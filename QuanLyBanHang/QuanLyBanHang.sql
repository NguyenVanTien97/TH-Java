CREATE DATABASE QuanLyBanQuanAo
GO
USE QuanLyBanHang
GO
CREATE TABLE CHATLIEU
(
	MaChatLieu nvarchar(50) NOT NULL PRIMARY KEY,
	TenChatLieu nvarchar(50) NOT NULL
)
CREATE TABLE KHACH
(
	MaKH nvarchar(10) NOT NULL PRIMARY KEY,
	TenKH nvarchar(50) NOT NULL,
	DiaChi nvarchar(50) NOT NULL,
	DienThoai nvarchar(15) NOT NULL
)
CREATE TABLE HANG
(
	MaHang nvarchar(50) NOT NULL PRIMARY KEY,
	TenHang nvarchar(50) NOT NULL,
	MaChatLieu nvarchar(50) NOT NULL,
	Soluong float NOT NULL,
	DonGiaNhap float NOT NULL,
	DonGiaBan float NOT NULL,
	Anh nvarchar(200) NOT NULL,
	GhiChu nvarchar(200) NOT NULL
)
CREATE TABLE NhanVien
(
	MaNV nvarchar(10) NOT NULL PRIMARY KEY,
	TenNV nvarchar(50) NOT NULL,
	GioiTinh nvarchar(10) NOT NULL,
	DiaChi nvarchar(50) NOT NULL,
	DienThoai nvarchar(15) NOT NULL,
	NgaySinh Datetime NOT NULL
)
CREATE TABLE HDBAN
(
	MaHDBan nvarchar(30) NOT NULL PRIMARY KEY,
	MaNV nvarchar(10) NOT NULL,
	NgayBan Datetime NOT NULL,
	MaKhach nvarchar(10) NOT NULL,
	TongTien float NOT NULL
)
CREATE TABLE ChiTietHD
(
	MaHDBan nvarchar(30) NOT NULL PRIMARY KEY,
	MaHang nvarchar(50) NOT NULL,
	SoLuong float NOT NULL,
	DonGia float NOT NULL,
	GiamGia float NOT NULL,
	ThanhTien float NOT NULL,
	CONSTRAINT fk_hang FOREIGN KEY (MaHang) REFERENCES HANG(MaHang)
)
ALTER TABLE ChiTietHD DROP CONSTRAINT fk_hang
INSERT INTO CHATLIEU VALUES('A0001','To Tam');
INSERT INTO CHATLIEU VALUES('A0002','Co Tong');
INSERT INTO CHATLIEU VALUES('A0003','Vai Mem');
INSERT INTO KHACH VALUES('MS0001','Tien','70/21 Duong 2/4','01885166416');
INSERT INTO KHACH VALUES('MS0002','Dung','80/51 Duong Sinh Trung','01886879416');
INSERT INTO KHACH VALUES('MS0003','Binh','15 Nguyen Trai','0903159833');
INSERT INTO HANG VALUES('MH0001','Ao Khoac','SD12345','10','10000','20000','NULL','NULL');
INSERT INTO HANG VALUES('MH0002','Ao ba lo','SD12346','10','15000','30000','NULL','NULL');
INSERT INTO HANG VALUES('MH0002','Ao dai tay','SD12347','20','5000','10000','NULL','NULL');
INSERT INTO NhanVien VALUES('NV0001','Trang','Nu','56 Le Loi','0987148311','11/19/1997');
INSERT INTO NhanVien VALUES('NV0002','Quynh','Nu','56 Le Hong Phong','0988149301','06/12/1998');
INSERT INTO NhanVien VALUES('NV0003','Kien','Nam','16 Mac Dinh Chi','0987149245','12/08/1996');
INSERT INTO HDBan VALUES ('H0001','N0001','2018/07/15','K0001',1500000);
INSERT INTO HDBan VALUES ('H0002','N0002','2018/07/16','K0002',225000);
INSERT INTO HDBan VALUES ('H0003','N0003','2018/07/17','K0003',200000);
INSERT INTO ChiTietHD VALUES ('H0001','M0001',15,10000,20000,1500000);
INSERT INTO ChiTietHD VALUES ('H0002','M0002',20,18000,30000,4800000);
INSERT INTO ChiTietHD VALUES ('H0003','M0003',15,5000,150000,200000)